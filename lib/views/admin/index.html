{{> header}}
{{> admin/menu}}
<div class="container-fluid" ng-app="MelyAdmin">
	<!-- Nav tabs -->
	<ul class="nav nav-pills nav-justified" role="tablist">
		<li class="active"><a href="#Users" role="tab" data-toggle="tab">Users</a></li>
		<li><a href="#Posts" role="tab" data-toggle="tab">Posts</a></li>
		<li><a href="#Comments" role="tab" data-toggle="tab">Comments</a></li>
		<li><a href="#Pages" role="tab" data-toggle="tab">Pages</a></li>
		<li><a href="#Themes" role="tab" data-toggle="tab">Themes</a></li>
	</ul>
	<!-- Tab panes -->
	<div class="tab-content">
		<div class="tab-pane active" id="Users" ng-controller="UserCtrl">
			<br>
			<a class="btn btn-success btn-sm" data-toggle="modal" data-target="#UserModal">Add User</a>
			<br><br>
			<table class="table table-bordered table-striped table-condensed">
				<thead>
					<tr>
						<th>Email</th>
						<th>Status</th>
						<th>Create Date</th>
						<th class="text-center"></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="people in users">
						<td ng-bind="people.email"></td>
						<td>
							<ANY ng-switch="people.status">
								<ANY ng-switch-when="true">Active</ANY>
								<ANY ng-switch-default>Not Active</ANY>
							</ANY>
						</td>
						<td ng-bind="people.createdDate"></td>
						<td class="text-center"><a ng-click="delete(people.userid)">Remove</a></td>
					</tr>
				</tbody>
			</table>
			<!-- USER MODAL -->
			<div class="modal fade" id="UserModal">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
							<h4 class="modal-title">New User</h4>
						</div>
						<div class="modal-body">
							<form role="form" ng-submit="process()" id="UserForm">
							<input type="hidden" name="userid" id="userid" ng-value="userid" />
							<div class="container-fluid">
								<div class="row">
									<div class="lg-col-12">
										<div class="form-group">
											<label>E-Mail</label>
											<input class="form-control" type="email" id="useremail" name="useremail"/>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="lg-col-12">
										<div class="form-group">
											<label>Password</label>
											<input class="form-control" type="password" id="userpassword" name="userpassword"/>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="lg-col-12">
										<input type="submit" value="New User" class="btn btn-success btn-sm" />
									</div>
								</div>
							</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="tab-pane" id="Posts" ng-controller="PostCtrl">
			<br>
			<a class="btn btn-success btn-sm" data-toggle="modal" data-target="#PostModal">Add Post</a>
			<br><br>
			<table class="table table-bordered table-striped table-condensed">
				<thead>
					<tr>
						<th>Title</th>
						<th>Content</th>
						<th>Status</th>
						<th>Comments Allowed?</th>
						<th class="text-center"></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="article in posts">
						<td ng-bind="article.title"></td>
						<td><a href="#post">Preview</a></td>
						<td>
							<ANY ng-switch="article.status">
								<ANY ng-switch-when="1">Draft</ANY>
								<ANY ng-switch-when="2">Published</ANY>
							</ANY>
						</td>
						<td>
							<ANY ng-switch="article.comments_allowed">
								<ANY ng-switch-when="0">NO</ANY>
								<ANY ng-switch-when="1"><a href="#comments">YES</a></ANY>
							</ANY>
						</td>
						<td class="text-center">
							<a ng-click="getPost(article.postId)">Edit</a> | <a ng-click="delete(article.postId)">Delete</a>
						</td>
					</tr>
					<tr ng-if="posts.length === 0">
						<td colspan="5" class="text-center">No Posts</td>
					</tr>
				</tbody>
			</table>
			<!-- POST MODAL -->
			<div class="modal fade" id="PostModal">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-body">
							<form role="form" ng-submit="process()" id="PostForm">
								<input type="hidden" name="postid" id="postid" />
								<div class="container-fluid">
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Title</label>
												<input class="form-control" type="text" name="posttitle" id="posttitle" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Content</label>
												<textarea class="form-control postcontent" name="postcontent" id="postcontent" rows="20"></textarea>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Status</label>
												<select class="form-control" name="poststatus" id="poststatus">
													<option value="">--- Choose ---</option>
													<option value="1">Draft</option>
													<option value="2">Published</option>
												</select>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Comments</label>
												<select class="form-control" name="postcomments" id="postcomments">
													<option value="">--- Choose ---</option>
													<option value="0">Disabled</option>
													<option value="1">Enabled</option>
												</select>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<input type="submit" class="btn btn-success btn-sm" />
											<button type="button" class="btn btn-success btn-sm" class="close" data-dismiss="modal">Close</button>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="tab-pane" id="Comments" ng-controller="CommentCtrl">
			<br>
			<table class="table table-bordered table-striped table-condensed">
				<thead>
					<tr>
						<th>Comment Link</th>
						<th>Author</th>
						<th>Comment</th>
						<th>Approve / Un-Approve</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="comment in comments">
						<td><a href="#comment">Preview</a></td>
						<td ng-bind="comment.commentemail"></td>
						<td ng-bind="comment.commentcontent"></td>
						<td>
							<ANY ng-switch="comment.approved">
								<ANY ng-switch-when="false"><a ng-click="updateStatus(comment.commentid,true)" href="#">Click to Approve</a></ANY>
								<ANY ng-switch-when="true"><a  ng-click="updateStatus(comment.commentid,false)" href="#">Click to Un-Approve</a></ANY>
							</ANY>
						</td>
					</tr>
					<tr ng-if="comments.length === 0">
						<td colspan="4" class="text-center">No Comments</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="tab-pane" id="Pages" ng-controller="PageCtrl">
			<br>
			<a class="btn btn-success btn-sm" data-toggle="modal" data-target="#PageModal">Add Page</a>
			<br><br>
			<table class="table table-bordered table-striped table-condensed">
				<thead>
					<tr>
						<th>Title</th>
						<th>Content</th>
						<th>Order</th>
						<th>Visible?</th>
						<th>Status</th>
						<th class="text-center"></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="article in pages">
						<td ng-bind="article.title"></td>
						<td><a href="#page">Preview</a></td>
						<td ng-bind="article.order"></td>
						<td>
							<ANY ng-switch="article.onmenu">
								<ANY ng-switch-when="0">NO</ANY>
								<ANY ng-switch-when="1">YES</ANY>
							</ANY>
						</td>
						<td>
							<ANY ng-switch="article.status">
								<ANY ng-switch-when="1">Draft</ANY>
								<ANY ng-switch-when="2">Published</ANY>
							</ANY>
						</td>
						<td class="text-center">
							<a ng-click="getPage(article.pageId)">Edit</a> | <a ng-click="delete(article.pageId)">Delete</a>
						</td>
					</tr>
					<tr ng-if="pages.length === 0">
						<td colspan="6" class="text-center">No Pages</td>
					</tr>
				</tbody>
			</table>
			<!-- PAGE MODAL -->
			<div class="modal fade" id="PageModal">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-body">
							<form role="form" ng-submit="process()" id="PageForm">
								<input type="hidden" name="pageid" id="pageid" />
								<div class="container-fluid">
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Title</label>
												<input class="form-control" type="text" name="pagetitle" id="pagetitle" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Content</label>
												<textarea class="form-control pagecontent" name="pagecontent" id="pagecontent" rows="20"></textarea>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Order</label>
												<input class="form-control" name="pageorder" id="pageorder" type="number" min="1" max="999">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
											<label>Visible on Menu</label>
											<select class="form-control" name="pageview" id="pageview">
												<option value="">--- Choose ---</option>
												<option value="0">No</option>
												<option value="1">Yes</option>
											</select>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Status</label>
												<select class="form-control" name="pagestatus" id="pagestatus">
													<option value="">--- Choose ---</option>
													<option value="1">Draft</option>
													<option value="2">Published</option>
												</select>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<input type="submit" class="btn btn-success btn-sm" />
											<button type="button" class="btn btn-success btn-sm" class="close" data-dismiss="modal">Close</button>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="tab-pane" id="Themes" ng-controller="ThemeCtrl">
			<br>
			<a class="btn btn-success btn-sm" data-toggle="modal" data-target="#ThemeModal">Add Theme</a>
			<br><br>
			<div class="row">
				<div class="col-lg-12">
					<h3>Themes</h3>
					<table class="table table-bordered table-striped table-condensed">
						<thead>
							<tr>
								<th>Title</th>
								<th>Description</th>
								<th>Active?</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="theme in themes">
								<td ng-bind="theme.name"></td>
								<td ng-bind="theme.description"></td>
								<td>
									<ANY ng-switch="theme.status">
										<ANY ng-switch-when="false"><a ng-click="activateTheme(theme.themeid)" href="#">ACTIVATE</a></ANY>
										<ANY ng-switch-when="true">Active</ANY>
									</ANY>
								</td>
								<td>
									<a ng-click="getTheme(theme.themeid)">Edit</a>
								</td>
							</tr>
							<tr ng-if="themes.length === 0">
								<td colspan="4" class="text-center">No Comments</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<h3>Theme Files</h3>
					<button ng-repeat="file in files" type="button" class="btn btn-link" id="\{{file.name}}" ng-click="getThemeFile(file.name)">\{{file.name}}</button>
					<textarea class="form-control" name="themefile" id="themefile" ng-model="themefile" rows="10"></textarea>
					<br>
					<button type="button" class="btn btn-success btn-sm" ng-click="saveFile()">Save</button>
				</div>
			</div>
			<!-- THEME MODAL -->
			<div class="modal fade" id="ThemeModal">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
						<div class="modal-body">
							<form role="form" ng-submit="process()" id="ThemeForm">
								<input type="hidden" name="themeid" id="themeid" />
								<div class="container-fluid">
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Name</label>
												<input class="form-control" type="text" name="themename" id="themename" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Description</label>
												<input class="form-control" type="text" name="themedescription" id="themedescription" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Title Background Color</label>
												<div class="input-group">
													<div class="input-group-addon">#</div>
													<input class="form-control color" type="text" name="headerbackcolor" id="headerbackcolor" />
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Title Font Color</label>
												<div class="input-group">
													<div class="input-group-addon">#</div>
													<input class="form-control color" type="text" name="headerfontcolor" id="headerfontcolor" />
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Title Font Size</label>
												<input class="form-control" type="number" name="headerfontsize" id="headerfontsize" min="1" max="100" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Menu Background Color</label>
												<div class="input-group">
													<div class="input-group-addon">#</div>
													<input class="form-control color" type="text" name="menubackcolor" id="menubackcolor" />
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Menu Font Color</label>
												<div class="input-group">
													<div class="input-group-addon">#</div>
													<input class="form-control color" type="text" name="menufontcolor" id="menufontcolor" />
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Menu Font Size</label>
												<input class="form-control" type="number" name="menufontsize" id="menufontsize" min="1" max="100" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Post Title Font Color</label>
												<div class="input-group">
													<div class="input-group-addon">#</div>
													<input class="form-control color" type="text" name="posttitlecolor" id="posttitlecolor" />
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Post Title Font Size</label>
												<input class="form-control" type="number" name="posttitlefontsize" id="posttitlefontsize" min="1" max="100" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Post Content Font Color</label>
												<div class="input-group">
													<div class="input-group-addon">#</div>
													<input class="form-control color" type="text" name="postcontentcolor" id="postcontentcolor" />
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Post Content Font Size</label>
												<input class="form-control" type="number" name="postcontentfontsize" id="postcontentfontsize" min="1" max="100" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Page Title Font Color</label>
												<div class="input-group">
													<div class="input-group-addon">#</div>
													<input class="form-control color" type="text" name="pagetitlecolor" id="pagetitlecolor" />
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Page Title Font Size</label>
												<input class="form-control" type="number" name="pagetitlefontsize" id="pagetitlefontsize" min="1" max="100" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Page Content Font Color</label>
												<div class="input-group">
													<div class="input-group-addon">#</div>
													<input class="form-control color" type="text" name="pagecontentcolor" id="pagecontentcolor" />
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Page Content Font Size</label>
												<input class="form-control" type="number" name="pagecontentfontsize" id="pagecontentfontsize" min="1" max="100" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<div class="form-group">
												<label>Title Logo</label>
												<input class="form-control" type="file" name="headerimage" id="headerimage" />
												<br>
												<img class="hide" name="image" id="image" />
											</div>
										</div>
									</div>
									<div class="row">
										<div class="lg-col-12">
											<input type="submit" class="btn btn-success btn-sm" />
											<button type="button" class="btn btn-success btn-sm" class="close" data-dismiss="modal">Close</button>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{{> footer}}
<script src="/js/angular.js"></script>
<script src="/js/underscore-min.js"></script>
<script src="/js/rangyinputs-jquery-src.js"></script>
<script src="/js/jquery.pagedown-bootstrap.combined.js"></script>
<script src="/js/admin.main.js"></script>